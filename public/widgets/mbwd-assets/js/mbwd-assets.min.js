function bigNumberToShortenValue(e,t){t||(t="K");const s={Q:1e15,T:1e12,B:1e9,M:1e6,K:1e3};if(e>=s[t]){const t=Math.abs(Number(e));for(i in s)if(t>=s[i])return(t/s[i]).toFixed(4).slice(0,-2)+i}return e}window.MB_WIDGETS=window.MB_WIDGETS||{},window.MB_WIDGETS.configMixins={computed:{MB_WIDGETS_GLOBAL_Cdn_Static_Path:()=>window.location.host.includes("mercado-bitcoin.vipdev.lndo.site")?"http://localhost:5001/web":window.location.host.includes("localhost")?"":"https://static.mercadobitcoin.com.br/web",MB_WIDGETS_GLOBAL_Cdn_Widgets_Url(){return`${this.MB_WIDGETS_GLOBAL_Cdn_Static_Path}/widgets`},MB_WIDGETS_GLOBAL_Cdn_Assets_Icon_Url:()=>"https://static.mercadobitcoin.com.br/web"}},window.MB_WIDGETS=window.MB_WIDGETS||{},window.MB_WIDGETS.mixins={methods:{mxDebounce(e,t,s){const a=s||300;return clearTimeout(e),setTimeout(t,a)}}},window.MB_WIDGETS=window.MB_WIDGETS||{},window.MB_WIDGETS.UIMixins={data:()=>({mobileMode:!1,mobileThreshold:768,mediumThreshold:null,mediumThresholdConfig:{min:641,max:1130}}),created(){const e=document.documentElement.clientWidth;this.mobileMode=e<=this.mobileThreshold,this.mediumThreshold=!this.mobileMode&&e>=this.mediumThresholdConfig.min&&e<=this.mediumThresholdConfig.max}},window.MB_WIDGETS=window.MB_WIDGETS||{},window.MB_WIDGETS.URLMixins={methods:{mxCreateUrlQueryString:e=>e&&Object.keys(e).length?"?".concat(Object.keys(e).map((t=>e[t]?`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`:"")).filter((e=>!!e)).join("&")):""}},Number.prototype.toFixedNoRounding=function(e){try{const t=new RegExp("^-?\\d+(?:\\.\\d{0,"+e+"})?","g");let s=this.toString();if(-1!==s.indexOf("e-"))return this.toFixed(e);s=s.match(t)[0];const a=s.indexOf(".");if(-1===a)return s+"."+"0".repeat(e);const i=e-(s.length-a)+1;return i>0?s+"0".repeat(i):s}catch(t){return this.toFixed(e)}},window.MB_WIDGETS=window.MB_WIDGETS||{},window.MB_WIDGETS.currencyFilters={filters:{ftFormatCrypto(e,t,s){if(""===e||isNaN(e))return"-";if(s){const t=bigNumberToShortenValue(e,s);if(t!==e)return t}e=(e=String(e)).replace(/((?:\.\d{8}))\d+$/,"$1");let a=4;return t&&(a=t),new Intl.NumberFormat("pt-BR",{minimumFractionDigits:a,maximumFractionDigits:a}).format(Number(e).toFixedNoRounding(a))},ftFormatCurrency(e,t,s){if(""===e||isNaN(e))return"-";let a=2;t&&(a=t);const i={minimumFractionDigits:a};return!0!==s&&(i.style="currency",i.currency="BRL"),new Intl.NumberFormat("pt-BR",i).format(Number(e).toFixedNoRounding(a))},ftFormatNumber(e,t,s,a){if(""===e||isNaN(parseFloat(e)))return e;let i=4;if(t&&(i=t),a){const t=bigNumberToShortenValue(e,a);if(t!==e)return t}let o=new Intl.NumberFormat("pt-BR",{minimumFractionDigits:i}).format(Number(e).toFixedNoRounding(i));return s&&i>0&&(o=o.replace(/^0+(\d)|(\d),?0+$/gm,"$1$2")),o},ftBigNumberToShortenValue:(e,t)=>bigNumberToShortenValue(e,t)}};const MBC_ASSET_BADGES=()=>({template:'<div class="c-asset-badges" v-if="badges.length > 0">\n<div class="c-badge" v-for="(badge, index) in cptdNormalizedBadges" :key="badge.text + index">\n<span v-if="isTypeStatus(badge.type)" class="rounded-status" :class="badge.text" />\n<img v-else class="icon" :src="cptdBadgeIconUrl" /> \n{{ badge.translatedText }}\n</div>\n</div>',mixins:[window.MB_WIDGETS.configMixins],props:{badges:{type:Array,default:()=>[]},language:{type:String,default:"pt"},type:{type:String,default:"crypto"}},data:()=>({translateMap:{pt:{novo:"novo","exclusivos mb":"exclusivos mb","pré-listagem":"pré-listagem","primary-market":"mercado primário","secondary-market":"mercado secundário","sold-out":"esgotado",future:"em breve",finished:"finalizado"},en:{novo:"novo","exclusivos mb":"exclusivos mb","pré-listagem":"pré-listagem","primary-market":"mercado primário","secondary-market":"mercado secundário","sold-out":"esgotado",future:"em breve",finished:"finalizado"},es:{novo:"novo","exclusivos mb":"exclusivos mb","pré-listagem":"pré-listagem","primary-market":"mercado primário","secondary-market":"mercado secundário","sold-out":"esgotado",future:"em breve",finished:"finalizado"}}}),computed:{cptdBadgeIconUrl(){return`${this.MB_WIDGETS_GLOBAL_Cdn_Widgets_Url}/img/icons/ico-badge-thunder-mono.svg`},cptdNormalizedBadges(){return this.badges.map((e=>({...e,text:(e.text??"").toLowerCase().replace("_","-"),translatedText:this.i18n((e.text??"").toLowerCase().replace("_","-"))}))).filter((({text:e,translatedText:t})=>!!e&&!!t))}},methods:{isTypeStatus:e=>"status"===e,getIconAlt:e=>`ícone ${e}`,i18n(e){return this.translateMap?.[this.language]?.[e]??""}}}),MBC_PAGINATION=()=>({template:'\n<div class="c-pagination" v-if="totalPages > 1">\n<div v-if="!mobileMode" class="pages">\n<button class="page go-to-first" :disabled="currentPage === 1" @click="onPageClick(null, \'back\')">\n<div class="arrow left" />\n</button>\n<button class="page first" :class="cssIsActive(1)" @click="onPageClick(1)">1</button>\n<span v-if="cptdDisplayLeftEllipsis" class="page ellipsis">...</span>\n<button class="page" :class="cssIsActive(page)" v-for="page in cptdPagesList" @click="onPageClick(page)">\n{{ page }}\n</button>\n<span v-if="cptdDisplayRightEllipsis" class="page ellipsis">...</span>\n<button class="page last" :class="cssIsActive(totalPages)" @click="onPageClick(totalPages)">{{totalPages}}</button>\n<button class="page go-to-last" :disabled="currentPage === totalPages" @click="onPageClick(null, \'next\')">\n<div class="arrow right" />\n</button>\n</div>\n<div v-if="mobileMode" class="show-more">\n<button class="btn-show-more" :disabled="currentPage === totalPages" @click="onPageClick(null, \'showMore\')">\n<span> Mostrar mais </span>\n<div class="arrow bottom" />\n</button>\n</div>\n</div>',mixins:[window.MB_WIDGETS.UIMixins],props:{currentPage:{type:Number,default:1},totalPages:{type:Number,default:1},trackComponent:{type:String,default:"assets"}},data:()=>({maxDisplayPages:3}),computed:{cptdDisplayLeftEllipsis(){return this.totalPages>5&&this.currentPage>this.maxDisplayPages},cptdDisplayRightEllipsis(){return this.totalPages>5&&this.currentPage<=this.totalPages-this.maxDisplayPages},cptdPagesList(){if(this.totalPages<=5)return Array.from(new Array(this.totalPages-2),((e,t)=>t+2));if(this.currentPage>=this.maxDisplayPages){if(this.currentPage<this.totalPages-1)return[this.currentPage-1,this.currentPage,this.currentPage+1];if(this.currentPage<this.totalPages)return[this.currentPage-1,this.currentPage];if(this.currentPage==this.totalPages)return[this.currentPage-2,this.currentPage-1]}return Array.from(new Array(this.maxDisplayPages-1),((e,t)=>t+2))}},methods:{cssIsActive(e){return this.currentPage===e?"active":""},onPageClick(e,t="numeric"){const s={back:{label:"pagination:previous",page:this.currentPage-1},next:{label:"pagination:next",page:this.currentPage+1},numeric:{label:`pagination:${e}`,page:e},showMore:{label:"show-more",page:this.currentPage+1}};this.$emit("change",s[t].page),this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`${this.trackComponent}:${s[t].label}`})}}}),MBC_EMPTY_STATE=()=>({template:'<div class="c-empty-state apollo">\n<img class="main-state-icon" :src="cptdMainStateIconSrc" />\n<p class="title">{{ title }}</p>\n<p class="message">{{ message }}</p>\n<button class="cta primary filled" :title="cta.label" v-if="cptdCtaIsTypeFunction" @click="ctaCallback">\n<img v-if="displayCtaIcon" class="icon" :src="cptdCtaIconSrc" />\n{{ cta.label }}\n</button>\n<a v-if="cptdCtaIsTypeUrl" class="cta button primary ghost" :target="cta.target" :href="cta.url" :title="cta.label" rel="noopener noreferrer">\n{{cta.label}}\n</a>\n</div>',mixins:[window.MB_WIDGETS.configMixins],props:{cta:{type:Object,default:null,required:!1},mainStateIcon:{type:String,default:"ilu-empty-box.svg"},message:{type:String,default:"",required:!0},title:{type:String,default:"",required:!0},displayCtaIcon:{type:Boolean,default:!1},ctaIcon:{type:String,default:"ico-refresh-mono.svg"}},computed:{cptdCtaIsTypeFunction(){return this.cta&&this.cta.type&&"function"===this.cta.type},cptdCtaIsTypeUrl(){return this.cta&&this.cta.type&&"link"===this.cta.type},cptdMainStateIconSrc(){return`${this.MB_WIDGETS_GLOBAL_Cdn_Widgets_Url}/img/ilu/${this.mainStateIcon}`},cptdCtaIconSrc(){return`${this.MB_WIDGETS_GLOBAL_Cdn_Widgets_Url}/img/icons/${this.ctaIcon}`}},methods:{ctaCallback(){this.cta?.callback instanceof Function&&this.cta.callback()}}});MBWD_CRYPTO_ASSET_CARD_LIST=()=>({template:'\n<div class="mbwd-crypto-asset-card-list">\n<a v-if="mobileMode" class="crypto-card mobile" v-for="asset in assets" :key="asset.product_data.symbol" @click="redirectToAssetTradeExperience(asset.product_data.symbol)">\n<div class="attributes">\n<div class="header">\n<img class="asset-icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n<div class="asset-data">\n<p class="name">{{ asset.name }}</p>\n<p class="type">{{ i18n(asset.product_data.sub_type) }}</p>\n</div>\n</div>\n<mbc-asset-badges :badges="asset.product_data.badges" type="crypto" />\n</div>\n<div class="market-data">\n<p class="variation">\n<span class="value" :class="asset.product_data.variation.status">{{ asset.product_data.variation.string }}</span>\n<span class="label-24h">24h</span>\n</p>\n<p class="price">{{ asset.market_price | ftFormatCurrency(2) }}</p>\n</div>\n</a>\n<a v-if="!mobileMode" class="crypto-card desktop" v-for="asset in assets" :key="asset.product_data.symbol" @click="redirectToAssetTradeExperience(asset.product_data.symbol)">\n<div class="attributes">\n<div class="header">\n<img class="asset-icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n<mbc-asset-badges :badges="asset.product_data.badges" type="crypto" />\n</div>\n<p class="name">\n{{ asset.name }}\n<span class="symbol">({{ asset.product_data.symbol }})</span>\n</p>\n<p class="type">{{ i18n(asset.product_data.sub_type) }}</p>\n</div>\n<p class="price">{{ asset.market_price | ftFormatCurrency(2) }}</p>\n<span class="variation">\n<span class="value" :class="asset.product_data.variation.status">{{ asset.product_data.variation.string }}</span>\n{{ i18n(\'nas últimas 24h\') }}\n</span>\n</a>\n</div>',props:{language:{type:String,default:"pt"},assets:{type:Array,default:()=>[]}},mixins:[window.MB_WIDGETS.configMixins,window.MB_WIDGETS.UIMixins,window.MB_WIDGETS.currencyFilters],components:{"mbc-asset-badges":MBC_ASSET_BADGES()},data:()=>({translateMap:{pt:{"nas últimas 24h":"nas últimas 24h",utility_token:"Utility token",coin:"Criptomoeda"},en:{"nas últimas 24h":"nas últimas 24h",utility_token:"Utility token",coin:"Criptomoeda"},es:{"nas últimas 24h":"nas últimas 24h",utility_token:"Utility token",coin:"Criptomoeda"}}}),methods:{i18n(e){return this.translateMap?.[this.language]?.[e]??""},getIconAlt:e=>`ícone ${e}`,getAssetBasicTradeExperienceLink:e=>`https://www.mercadobitcoin.com.br/plataforma/clue/?command=/trade/basic/${(e??"").toLowerCase()}/brl`,redirectToAssetTradeExperience(e){this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`assets:card:${e}`}),location.href=this.getAssetBasicTradeExperienceLink(e)}}});const MBWD_CRYPTO_ASSET_TABLE=()=>({template:'\n<div class="mbwd-crypto-asset-table">\n<table v-if="!mobileMode" class="crypto-asset-table-desktop">\n<thead>\n<tr>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'name\')">\n{{ i18n(\'Ativo\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'name\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'name\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'symbol\')">\n{{ i18n(\'Ticker\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'symbol\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'symbol\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'sub_type\')">\n{{ i18n(\'Segmento\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'sub_type\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'sub_type\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'market_price\')">\n{{ i18n(\'Preço\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'market_price\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'market_price\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>{{ i18n(\'Variação\') }}</th>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'market_cap\')">\n{{ i18n(\'Capitalização de mercado\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'market_cap\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'market_cap\', \'desc\')" />\n</div>\n</div>\n</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr v-for="asset in assets" :key="asset.product_data.symbol">\n<td class="asset-cell">\n<a class="asset" @click="redirectToAssetLandingPage(asset.product_data.symbol)">\n<img class="icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n{{ asset.name }}\n</a>\n</td>\n<td class="symbol">{{ asset.product_data.symbol }}</td>\n<td class="sub-type">{{ i18n(asset.product_data.sub_type) }}</td>\n<td class="price">{{ asset.market_price | ftFormatCurrency(2) }}</td>\n<td class="variation" :class="asset.product_data.variation.status">\n{{ asset.product_data.variation.string }}\n</td>\n<td class="market-cap">{{ asset.product_data.market_cap | ftFormatCurrency(2) }}</td>\n<td class="cta-wrapper apollo">\n<a class="button primary outlined" @click="redirectToAssetTradeExperience(asset.product_data.symbol)">\n{{ i18n(\'Comprar\') }}\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n<div v-if="mobileMode" class="crypto-asset-table-mobile">\n<a class="crypto-asset" v-for="asset in assets" :key="asset.product_data.symbol" @click="redirectToAssetTradeExperience(asset.product_data.symbol)">\n<div class="attributes">\n<div class="header">\n<img class="asset-icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n<div class="asset-data">\n<p class="name">{{ asset.name }}</p>\n<p class="sub-type">{{ i18n(asset.product_data.sub_type) }}</p>\n</div>\n</div>\n</div>\n<div class="market-data">\n<p class="price">{{ asset.market_price | ftFormatCurrency(2) }}</p>\n<p class="variation">\n<span class="value" :class="asset.product_data.variation.status">{{ asset.product_data.variation.string }}</span>\n<span class="label-24h">24h</span>\n</p>\n</div>\n</a>\n</div>\n</div>',props:{language:{type:String,default:"pt"},assets:{type:Array,default:()=>[]}},mixins:[window.MB_WIDGETS.configMixins,window.MB_WIDGETS.UIMixins,window.MB_WIDGETS.currencyFilters],data:()=>({sort:"",order:"",translateMap:{pt:{Ativo:"Ativo",Ticker:"Ticker",Segmento:"Segmento","Preço":"Preço","Variação":"Variação","Capitalização de mercado":"Capitalização de mercado",Comprar:"Comprar",utility_token:"Utility token",coin:"Criptomoeda"},en:{Ativo:"Ativo",Ticker:"Ticker",Segmento:"Segmento","Preço":"Preço","Variação":"Variação","Capitalização de mercado":"Capitalização de mercado",Comprar:"Comprar",utility_token:"Utility token",coin:"Criptomoeda"},es:{Ativo:"Ativo",Ticker:"Ticker",Segmento:"Segmento","Preço":"Preço","Variação":"Variação","Capitalização de mercado":"Capitalização de mercado",Comprar:"Comprar",utility_token:"Utility token",coin:"Criptomoeda"}}}),methods:{cssSortActive(e,t){return this.sort===e&&this.order===t?"active":""},i18n(e){return this.translateMap?.[this.language]?.[e]??""},getAssetLandingPageLink:e=>`https://www.mercadobitcoin.com.br/conhecer/${(e??"").toLowerCase()}`,getAssetBasicTradeExperienceLink:e=>`https://www.mercadobitcoin.com.br/plataforma/clue/?command=/trade/basic/${(e??"").toLowerCase()}/brl`,getIconAlt:e=>`ícone ${e}`,redirectToAssetTradeExperience(e){this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`assets:table:button:${e}`}),location.href=this.getAssetBasicTradeExperienceLink(e)},redirectToAssetLandingPage(e){this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`assets:table:asset-name:${e}`}),location.href=this.getAssetLandingPageLink(e)},changeSortOrder(e){if(this.sort===e)switch(this.order){case"":this.order="asc";break;case"asc":this.order="desc";break;default:this.order=""}else this.sort=e,this.order="asc";this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`assets:table:sort:${e}`}),this.$emit("sort",{order:this.order,sort:this.sort})}}}),MBWD_FIXED_INCOME_ASSET_CARD_LIST=()=>({template:'\n<div class="mbwd-fixed-income-asset-card-list apollo">\n<a v-if="!mobileMode" class="fixed-income-card desktop" v-for="asset in assets" :key="asset.product_data.symbol">\n<mbc-asset-badges :badges="getAssetBadgeAsArray(asset)" />\n<div class="asset-data">\n<div class="attributes">\n<p class="name">{{ asset.name }}</p>\n<p class="title">{{ i18n(\'Valor inicial\') }}</p>\n<p class="description minimum-value">{{ i18n(\'A partir de\') }} {{ asset.product_data.minimum_value | ftFormatCurrency(2) }}</p>\n<p class="title">{{ i18n(\'Rentabilidade\') }}</p>\n<p class="description profitability">{{ asset.product_data.profitability }}</p>\n<p class="title">{{ i18n(\'Prazo estimado\') }}</p>\n<p class="description">{{ asset.product_data.estimated_liquidation_date }}</p>\n</div>\n<div class="sold-percentage">\n<div class="middle-circle">\n<p>{{ getPercentageString(asset.product_data.sold_percentage.number) }}</p>\n<p><strong>{{ i18n(\'vendido\') }}</strong></p>\n</div>\n<svg viewBox="0 0 36 36" class="circular-chart">\n<path class="circle"\n:stroke-dasharray="getSVGSoldPercentageStyle(asset.product_data.sold_percentage.number)"\nd="M18 2.0845\na 15.9155 15.9155 0 0 1 0 31.831\na 15.9155 15.9155 0 0 1 0 -31.831"\n/>\n</svg>\n</div>\n</div>\n<div class="ctas">\n<a class="button primary filled" @click="redirectToAssetTradeExperience(asset.product_data.symbol)">Investir</a>\n<a class="button secondary ghost" @click="redirectToAssetLandingPage(asset.product_data.symbol)">Conhecer</a>\n</div>\n</a>\n<a v-if="mobileMode" class="fixed-income-card mobile" v-for="asset in assets" :key="asset.product_data.symbol">\n<div class="attributes">\n<div class="header">\n<img class="asset-icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n<p class="symbol">{{ asset.product_data.symbol }}</p>\n</div>\n<mbc-asset-badges :badges="getAssetBadgeAsArray(asset)" />\n</div>\n<div class="market-data">\n<p class="profitability">\n{{ asset.product_data.profitability }}\n</p>\n<div class="minimum-value">\n<p class="min-label">{{ i18n(\'A partir de\') }}</p>\n<p class="min-value">{{ asset.product_data.minimum_value | ftFormatCurrency(2) }}</p>\n</div>\n</div>\n</a>\n</div>',props:{language:{type:String,default:"pt"},assets:{type:Array,default:()=>[]}},mixins:[window.MB_WIDGETS.UIMixins,window.MB_WIDGETS.configMixins,window.MB_WIDGETS.currencyFilters],components:{"mbc-asset-badges":MBC_ASSET_BADGES()},data:()=>({translateMap:{pt:{"nas últimas 24h":"nas últimas 24h","Valor inicial":"Valor inicial","A partir de":"A partir de",Rentabilidade:"Rentabilidade","Prazo estimado":"Prazo estimado",vendido:"vendido"},en:{"nas últimas 24h":"nas últimas 24h","Valor inicial":"Valor inicial","A partir de":"A partir de",Rentabilidade:"Rentabilidade","Prazo estimado":"Prazo estimado",vendido:"vendido"},es:{"nas últimas 24h":"nas últimas 24h","Valor inicial":"Valor inicial","A partir de":"A partir de",Rentabilidade:"Rentabilidade","Prazo estimado":"Prazo estimado",vendido:"vendido"}}}),methods:{getAssetBadgeAsArray:e=>[...e.product_data?.badges||[],{text:e?.product_data?.status?.value??"",type:"status"}],getPercentageString(e=0){let t=e;return t>100&&(t=100),t<0&&(t=0),`${this.$options.filters.ftFormatNumber(t,2)}%`},getSVGSoldPercentageStyle:e=>`${e}, 100`,getIconAlt:e=>`ícone ${e}`,getAssetBasicTradeExperienceLink:e=>`https://www.mercadobitcoin.com.br/plataforma/clue/?command=/trade/basic/${(e??"").toLowerCase()}/brl`,getAssetLandingPageLink:e=>`https://www.mercadobitcoin.com.br/conhecer/${(e??"").toLowerCase()}`,redirectToAssetTradeExperience(e){this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`fixed-income:card:${e}:invest`}),location.href=this.getAssetBasicTradeExperienceLink(e)},redirectToAssetLandingPage(e){this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`fixed-income:card:${e}:learn`}),location.href=this.getAssetLandingPageLink(e)},i18n(e){return this.translateMap?.[this.language]?.[e]??""}}}),MBWD_FIXED_INCOME_ASSET_TABLE=()=>({template:'\n<div class="mbwd-fixed-income-asset-table">\n<table v-if="!mobileMode" class="fixed-income-asset-table-desktop">\n<thead>\n<tr>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'name\')">\n{{ i18n(\'Ativo\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'name\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'name\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>\n<div class="sorter-cell"@click="changeSortOrder(\'minimum_value\')">\n{{ i18n(\'Valor inicial\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'minimum_value\', \'asc\')" />\n<div class="sort-desc arrow down" :class="cssSortActive(\'minimum_value\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>{{ i18n(\'Rentabilidade\') }}</th>\n<th>{{ i18n(\'Prazo\') }}</th>\n<th>\n<div class="sorter-cell" @click="changeSortOrder(\'available_percentage\')">\n{{ i18n(\'Estoque\') }}\n<div class="sorters">\n<div class="sort-asc arrow up" :class="cssSortActive(\'available_percentage\', \'asc\')"/>\n<div class="sort-desc arrow down" :class="cssSortActive(\'available_percentage\', \'desc\')" />\n</div>\n</div>\n</th>\n<th>{{ i18n(\'Mercado\') }}</th>\n<th></th>\n</tr>\n</thead>\n<tbody>\n<tr v-for="asset in assets">\n<td class="asset-cell">\n<a class="asset" @click="redirectToAssetLandingPage(asset.product_data.symbol)">\n<img class="icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n{{ asset.name }}\n</a>\n</td>\n<td class="minimum-value">{{ asset.product_data.minimum_value | ftFormatCurrency(2) }}</td>\n<td class="profitability">\n{{ asset.product_data.profitability }}\n</td>\n<td class="liquidation-date">{{ asset.product_data.estimated_liquidation_date }}</td>\n<td class="available-percentage">{{ getPercentageString(asset.product_data.available_percentage.number) }}</td>\n<td class="status">{{ i18n(asset.product_data.status.value) }}</td>\n<td class="cta-wrapper apollo">\n<a class="button primary outlined" @click="redirectToAssetTradeExperience(asset.product_data.symbol)">\n{{ i18n(\'Investir\') }}\n</a>\n</td>\n</tr>\n</tbody>\n</table>\n<div v-if="mobileMode" class="fixed-income-asset-table-mobile">\n<a class="fixed-income-asset" v-for="asset in assets" :key="asset.product_data.symbol">\n<div class="attributes">\n<div class="header">\n<img class="asset-icon" :src="asset.icon_url.svg" :title="getIconAlt(asset.name)" :alt="getIconAlt(asset.name)"/>\n<div class="asset-data">\n<p class="name">{{ asset.name }}</p>\n<p class="symbol">{{ asset.product_data.symbol }}</p>\n</div>\n</div>\n</div>\n<div class="market-data">\n<mbc-asset-badges :badges="getAssetBadgeAsArray(asset)" />\n<p class="profitability">\n{{ asset.product_data.profitability }}\n</p>\n</div>\n</a>\n</div>\n</div>',props:{language:{type:String,default:"pt"},assets:{type:Array,default:()=>[]}},mixins:[window.MB_WIDGETS.configMixins,window.MB_WIDGETS.UIMixins,window.MB_WIDGETS.currencyFilters],components:{"mbc-asset-badges":MBC_ASSET_BADGES()},data:()=>({sort:"",order:"",translateMap:{pt:{Ativo:"Ativo","Valor inicial":"Valor inicial",Rentabilidade:"Rentabilidade",Prazo:"Prazo",Estoque:"Estoque",Mercado:"Mercado",Investir:"Investir",novo:"novo","exclusivos mb":"exclusivos mb","pré-listagem":"pré-listagem","primary-market":"Primário","secondary-market":"Secundário","sold-out":"esgotado",future:"em breve",finished:"finalizado"},en:{Ativo:"Ativo","Valor inicial":"Valor inicial",Rentabilidade:"Rentabilidade",Prazo:"Prazo",Estoque:"Estoque",Mercado:"Mercado",Investir:"Investir",novo:"novo","exclusivos mb":"exclusivos mb","pré-listagem":"pré-listagem","primary-market":"Primário","secondary-market":"Secundário","sold-out":"esgotado",future:"em breve",finished:"finalizado"},es:{Ativo:"Ativo","Valor inicial":"Valor inicial",Rentabilidade:"Rentabilidade",Prazo:"Prazo",Estoque:"Estoque",Mercado:"Mercado",Investir:"Investir",novo:"novo","exclusivos mb":"exclusivos mb","pré-listagem":"pré-listagem","primary-market":"Primário","secondary-market":"Secundário","sold-out":"esgotado",future:"em breve",finished:"finalizado"}}}),methods:{cssSortActive(e,t){return this.sort===e&&this.order===t?"active":""},getAssetBadgeAsArray:e=>[...e.product_data.badges||[],{text:e?.product_data?.status?.value??"",type:"status"}],getAssetBasicTradeExperienceLink:e=>`https://www.mercadobitcoin.com.br/plataforma/clue/?command=/trade/basic/${(e??"").toLowerCase()}/brl`,getAssetLandingPageLink:e=>`https://www.mercadobitcoin.com.br/conhecer/${(e??"").toLowerCase()}`,getPercentageString(e=0){let t=e;return t>100&&(t=100),t<0&&(t=0),`${this.$options.filters.ftFormatNumber(t,2)}%`},getIconAlt:e=>`ícone ${e}`,i18n(e){return e.indexOf("_")>=0?this.translateMap?.[this.language]?.[e.toLowerCase().replace("_","-")]??"":this.translateMap?.[this.language]?.[e]??""},redirectToAssetTradeExperience(e){this.$root.$emit("track","asset-table"),this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`fixed-income:table:button:${e}`}),location.href=this.getAssetBasicTradeExperienceLink(e)},redirectToAssetLandingPage(e){this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`fixed-income:table:asset-name:${e}`}),location.href=this.getAssetLandingPageLink(e)},changeSortOrder(e){if(this.sort===e)switch(this.order){case"":this.order="asc";break;case"asc":this.order="desc";break;default:this.order=""}else this.sort=e,this.order="asc";this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`fixed-income:table:sort:${e}`}),this.$emit("sort",{order:this.order,sort:this.sort})}}});MBWD_CRYPTO_ASSETS=()=>({template:'\n<div class="mbwd-crypto-assets">\n<h3 class="title">\n{{ i18n(\'Criptoativos\') }}\n<div v-if="mobileMode" class="view-modes">\n<button class="view-mode" :class="cssIsViewModeActive(\'cards\')" @click="onViewModeChange(\'cards\')">\n<img v-if="isViewModeActive(\'cards\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-mono.svg\'">\n</button>\n<button class="view-mode" :class="cssIsViewModeActive(\'table\')" @click="onViewModeChange(\'table\')">\n<img v-if="isViewModeActive(\'table\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-mono.svg\'">\n</button>\n</div>\n</h3>\n<div class="options">\n<div class="categories">\n<button class="category" v-for="category in cptdAssetCategories" :class="cssIsCategoryActive(category.value)" @click="changeCategory(category.value)">\n{{ i18n(category.label) }}\n</button>\n</div>\n<div v-if="!mobileMode" class="view-modes">\n<button class="view-mode" :class="cssIsViewModeActive(\'cards\')" @click="onViewModeChange(\'cards\')">\n<img v-if="isViewModeActive(\'cards\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-mono.svg\'">\n</button>\n<button class="view-mode" :class="cssIsViewModeActive(\'table\')" @click="onViewModeChange(\'table\')">\n<img v-if="isViewModeActive(\'table\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-mono.svg\'">\n</button>\n</div>\n</div>\n<mbc-empty-state v-if="cryptoAssets.result.length === 0" :title="cptdEmptyStateConfig.title" :message="cptdEmptyStateConfig.message" :main-state-icon="cptdEmptyStateConfig.img" :cta="cptdEmptyStateConfig.cta" />\n<div v-if="cryptoAssets.result.length > 0" class="result-list">\n<div v-if="isViewModeActive(\'cards\')" class="view-mode-list card">\n<slot name="crypto-cards-list" :assets="cryptoAssets.result">\n<mbwd-crypto-asset-card-list :assets="cryptoAssets.result" />\n</slot>\n</div>\n<div v-else class="view-mode-list table">\n<slot name="crypto-table" :assets="cryptoAssets.result">\n<mbwd-crypto-asset-table ref="refCryptoAssetTable" @sort="changeSortOrder" :assets="cryptoAssets.result" />\n</slot>\n</div>\n</div>\n<div class="pagination-wrapper">\n<mbc-pagination :total-pages="cryptoAssets.totalPages" :current-page="cryptoAssets.currentPage" trackComponent="assets" @change="changePage"/>\n</div>\n</div>',mixins:[window.MB_WIDGETS.configMixins,window.MB_WIDGETS.UIMixins,window.MB_WIDGETS.URLMixins],props:{language:{type:String,default:"pt"},search:{type:String,default:""},intervalTimeout:{type:Number,default:3e4}},components:{"mbc-empty-state":MBC_EMPTY_STATE(),"mbc-pagination":MBC_PAGINATION(),"mbwd-crypto-asset-card-list":MBWD_CRYPTO_ASSET_CARD_LIST(),"mbwd-crypto-asset-table":MBWD_CRYPTO_ASSET_TABLE()},data:()=>({intervalId:void 0,busy:!0,cryptoAssets:{limit:5,category:"all",sort:"",order:"",currentPage:1,totalPages:1,result:[]},viewMode:"table",shouldOverwriteCryptoAssetResult:!1,translateMap:{pt:{Favoritos:"Favoritos",Criptoativos:"Criptoativos",Novos:"Novos",Todos:"Todos","Em alta":"Em alta","Em baixa":"Em baixa","Não encontramos nada em Ativos":"Não encontramos nada em Ativos"},en:{Favoritos:"Favoritos",Criptoativos:"Criptoativos",Novos:"Novos",Todos:"Todos","Em alta":"Em alta","Em baixa":"Em baixa","Não encontramos nada em Ativos":"Não encontramos nada em Ativos"},es:{Favoritos:"Favoritos",Criptoativos:"Criptoativos",Novos:"Novos",Todos:"Todos","Em alta":"Em alta","Em baixa":"Em baixa","Não encontramos nada em Ativos":"Não encontramos nada em Ativos"}}}),mounted(){this.getCryptoAssets(),this.scheduleGetCryptoAssetsInterval(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1)},destroy(){this.stopGetCryptoAssetsInterval()},computed:{cptdAssetCategories:()=>[{label:"Novos",value:"new"},{label:"Todos",value:"all"},{label:"Em alta",value:"uptrend"},{label:"Em baixa",value:"downtrend"}],cptdShowMore(){return this.mobileMode},cptdEmptyStateConfig(){return{title:this.i18n("Não encontramos nada em Ativos"),message:"",img:"ilu-empty-search-result.svg"}},cptdIsNewCategory(){return"new"===this.cryptoAssets.category},cptdIsUpTrendCategory(){return"uptrend"===this.cryptoAssets.category},cptdIsDownTrendCategory(){return"downtrend"===this.cryptoAssets.category},cptdDisplayTableSorters(){return!this.cptdIsNewCategory}},watch:{search(){this.resetCryptoBasicQueryDefaultState(),this.getCryptoAssets()}},methods:{cssIsCategoryActive(e){return this.cryptoAssets.category===e?"active":""},cssIsViewModeActive(e){return this.isViewModeActive(e)?"active":""},async getCryptoAssets(){this.busy=!0,console.log("SEARCHING FOR CRYPTOS: ",this.getCryptoAssetsRequestQueryString());try{const e=await fetch(`https://hotwheels-tp-together.dev.mercadolitecoin.com.br/api/v1/marketplace/product/unlogged${this.getCryptoAssetsRequestQueryString()}`);if(e.ok){const t=await e.json(),{total_items:s,response_data:a}=t,{products:i}=a;this.cptdShowMore&&!this.shouldOverwriteCryptoAssetResult?this.cryptoAssets.result.push(...i??[]):(this.cryptoAssets.result=i??[],this.shouldOverwriteCryptoAssetResult=!1,this.setCryptoAssetsLimit()),this.cptdIsNewCategory?this.cryptoAssets.totalPages=1:this.cryptoAssets.totalPages=s?Math.ceil(s/this.cryptoAssets.limit):1}else this.cryptoAssets.result=[],this.cryptoAssets.totalPages=1}catch(e){this.cryptoAssets.result=[],this.cryptoAssets.totalPages=1}this.busy=!1,this.$emit("list-updated",this.cryptoAssets.result.length)},getCryptoAssetsRequestQueryString(){this.setCryptoAssetsLimit();const{sort:e,order:t,currentPage:s,totalPages:a,limit:i}=this.cryptoAssets,o={type:"crypto",limit:i,sort:e,order:t};return this.search&&(o.search=this.search),this.cptdIsNewCategory?(o.sort="release_date",o.order="desc",this.mxCreateUrlQueryString(o)):(this.cptdIsUpTrendCategory&&(o.sort="variation",o.order="desc"),this.cptdIsDownTrendCategory&&(o.sort="variation",o.order="asc"),a>1&&(this.shouldOverwriteCryptoAssetResult&&this.cptdShowMore?o.offset=0:o.offset=(s-1)*i),this.mxCreateUrlQueryString(o))},handleVisibilityChange(){"hidden"===document.visibilityState?this.stopGetCryptoAssetsInterval():this.scheduleGetCryptoAssetsInterval()},i18n(e){return this.translateMap?.[this.language]?.[e]??""},isViewModeActive(e){return this.viewMode===e},changeCategory(e){this.resetCryptoBasicQueryDefaultState(),this.cryptoAssets.category=e,this.getCryptoAssets(),this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`assets:${e}`})},changePage(e){this.cryptoAssets.currentPage=e,this.getCryptoAssets()},changeSortOrder({sort:e,order:t}){this.cryptoAssets.sort!==e&&(this.cryptoAssets.totalPages=1,this.cryptoAssets.currentPage=1,this.cryptoAssets.category="all"),this.cryptoAssets.sort=e,this.cryptoAssets.order=t,this.getCryptoAssets()},onViewModeChange(e){this.viewMode=e,this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`assets:${e}`})},resetCryptoBasicQueryDefaultState(){this.$refs?.refCryptoAssetTable&&(this.$refs.refCryptoAssetTable.sort="",this.$refs.refCryptoAssetTable.order=""),this.cryptoAssets.sort="",this.cryptoAssets.order="",this.cryptoAssets.currentPage=1,this.cryptoAssets.totalPages=1,this.cryptoAssets.category="all",this.shouldOverwriteCryptoAssetResult=!0},setCryptoAssetsLimit(){this.cptdShowMore?this.cryptoAssets.limit=this.shouldOverwriteCryptoAssetResult?5*this.cryptoAssets.currentPage:5:this.cryptoAssets.limit="cards"===this.viewMode?4:5},scheduleGetCryptoAssetsInterval(){this.intervalId=setInterval((()=>{this.shouldOverwriteCryptoAssetResult=!0,this.getCryptoAssets()}),this.intervalTimeout)},stopGetCryptoAssetsInterval(){this.intervalId=null,clearInterval(this.intervalId)}}});const MBWD_FIXED_INCOME_ASSETS=()=>({template:'\n<div class="mbwd-fixed-income-assets">\n<h3 class="title">\n{{ i18n(\'Renda Fixa Digital\') }}\n<div v-if="mobileMode" class="view-modes">\n<button class="view-mode" :class="cssIsViewModeActive(\'cards\')" @click="onViewModeChange(\'cards\')">\n<img v-if="isViewModeActive(\'cards\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-mono.svg\'">\n</button>\n<button class="view-mode" :class="cssIsViewModeActive(\'table\')" @click="onViewModeChange(\'table\')">\n<img v-if="isViewModeActive(\'table\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-mono.svg\'">\n</button>\n</div>\n</h3>\n<div class="options">\n<div class="categories">\n<button class="category" v-for="category in cptdAssetCategories" :key="category.value" :class="cssIsCategoryActive(category.value)" @click="changeCategory(category.value)">\n{{ i18n(category.label) }}\n</button>\n</div>\n<div v-if="!mobileMode" class="view-modes">\n<button class="view-mode" :class="cssIsViewModeActive(\'cards\')" @click="onViewModeChange(\'cards\')">\n<img v-if="isViewModeActive(\'cards\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-four-squares-mono.svg\'">\n</button>\n<button class="view-mode" :class="cssIsViewModeActive(\'table\')" @click="onViewModeChange(\'table\')">\n<img v-if="isViewModeActive(\'table\')" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-white.svg\'">\n<img v-else :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-three-rectangles-mono.svg\'">\n</button>\n</div>\n</div>\n<mbc-empty-state v-if="fixedIncomeAssets.result.length === 0" :title="cptdEmptyStateConfig.title" :message="cptdEmptyStateConfig.message" :main-state-icon="cptdEmptyStateConfig.img" :cta="cptdEmptyStateConfig.cta" />\n<div v-if="fixedIncomeAssets.result.length > 0" class="result-list">\n<div v-if="isViewModeActive(\'cards\')" class="view-mode-list card">\n<slot name="fixed-income-cards-list" :assets="fixedIncomeAssets.result">\n<mbwd-fixed-income-asset-card-list :assets="fixedIncomeAssets.result" />\n</slot>\n</div>\n<div v-else class="view-mode-list table">\n<slot name="fixed-income-table" :assets="fixedIncomeAssets.result">\n<mbwd-fixed-income-asset-table ref="refFixedIncomeAssetTable" @sort="changeSortOrder" :assets="fixedIncomeAssets.result" />\n</slot>\n</div>\n</div>\n<div class="pagination-wrapper">\n<mbc-pagination :total-pages="fixedIncomeAssets.totalPages" trackComponent="fixed-income" :current-page="fixedIncomeAssets.currentPage" @change="changePage"/>\n</div>\n</div>',mixins:[window.MB_WIDGETS.configMixins,window.MB_WIDGETS.UIMixins,window.MB_WIDGETS.URLMixins],props:{authToken:{type:Boolean,default:!1},language:{type:String,default:"pt"},search:{type:String,default:""},intervalTimeout:{type:Number,default:3e4}},components:{"mbc-empty-state":MBC_EMPTY_STATE(),"mbc-pagination":MBC_PAGINATION(),"mbwd-fixed-income-asset-card-list":MBWD_FIXED_INCOME_ASSET_CARD_LIST(),"mbwd-fixed-income-asset-table":MBWD_FIXED_INCOME_ASSET_TABLE()},data:()=>({intervalId:void 0,busy:!0,viewMode:"table",shouldOverwriteFixedIncomeResult:!1,fixedIncomeAssets:{limit:5,category:"all",sort:"",order:"",currentPage:1,totalPages:1,result:[]},translateMap:{pt:{Favoritos:"Favoritos","Com saldo":"Com saldo","Renda Fixa Digital":"Renda Fixa Digital",Novos:"Novos",Todos:"Todos","Não encontramos nada em Renda Fixa Digital":"Não encontramos nada em Renda Fixa Digital"},en:{Favoritos:"Favoritos","Com saldo":"Com saldo","Renda Fixa Digital":"Renda Fixa Digital",Novos:"Novos",Todos:"Todos","Não encontramos nada em Renda Fixa Digital":"Não encontramos nada em Renda Fixa Digital"},es:{Favoritos:"Favoritos","Com saldo":"Com saldo","Renda Fixa Digital":"Renda Fixa Digital",Novos:"Novos",Todos:"Todos","Não encontramos nada em Renda Fixa Digital":"Não encontramos nada em Renda Fixa Digital"}}}),mounted(){this.getFixedIncomeAssets(),this.scheduleGetFixedIncomeAssetsInterval(),document.addEventListener("visibilitychange",this.handleVisibilityChange,!1)},destroy(){this.stopGetFixedIncomeAssetsInterval()},computed:{cptdAssetCategories:()=>[{label:"Novos",value:"new"},{label:"Todos",value:"all"}],cptdShowMore(){return this.mobileMode},cptdEmptyStateConfig(){return{title:this.i18n("Não encontramos nada em Renda Fixa Digital"),message:"",img:"ilu-empty-search-result.svg"}},cptdIsNewCategory(){return"new"===this.fixedIncomeAssets.category}},watch:{search(){this.resetFixedIncomeBasicQueryDefaultState(),this.getFixedIncomeAssets()}},methods:{cssIsCategoryActive(e){return this.fixedIncomeAssets.category===e?"active":""},cssIsViewModeActive(e){return this.isViewModeActive(e)?"active":""},async getFixedIncomeAssets(){this.busy=!0,console.log("SEARCHING FOR FIXED INCOMES: ",this.getFixedIncomeAssetsRequestQueryString());try{const e=await fetch(`https://hotwheels-tp-together.dev.mercadolitecoin.com.br/api/v1/marketplace/product/unlogged${this.getFixedIncomeAssetsRequestQueryString()}`);if(e.ok){const t=await e.json(),{total_items:s,response_data:a}=t,{products:i}=a;this.cptdShowMore&&!this.shouldOverwriteFixedIncomeResult?this.fixedIncomeAssets.result.push(...i??[]):(this.fixedIncomeAssets.result=i??[],this.shouldOverwriteFixedIncomeResult=!1,this.setFixedIncomeAssetsLimit()),this.cptdIsNewCategory?this.fixedIncomeAssets.totalPages=1:this.fixedIncomeAssets.totalPages=s?Math.ceil(s/this.fixedIncomeAssets.limit):1}else this.fixedIncomeAssets.result=[],this.fixedIncomeAssets.totalPages=1}catch(e){this.fixedIncomeAssets.result=[],this.fixedIncomeAssets.totalPages=1}this.busy=!1,this.$emit("list-updated",this.fixedIncomeAssets.result.length)},getFixedIncomeAssetsRequestQueryString(){this.setFixedIncomeAssetsLimit();const{sort:e,category:t,order:s,currentPage:a,totalPages:i,limit:o}=this.fixedIncomeAssets,n={type:"fixed_income",limit:o,sort:e,order:s};return"new"===t?(n.sort="release_date",n.order="desc",this.mxCreateUrlQueryString(n)):(i>1&&(this.shouldOverwriteFixedIncomeResult&&this.cptdShowMore?n.offset=0:n.offset=(a-1)*o),this.search&&(n.search=this.search),this.mxCreateUrlQueryString(n))},handleVisibilityChange(){"hidden"===document.visibilityState?this.stopGetFixedIncomeAssetsInterval():this.scheduleGetFixedIncomeAssetsInterval()},i18n(e){return this.translateMap?.[this.language]?.[e]??""},isViewModeActive(e){return this.viewMode===e},changeCategory(e){this.resetFixedIncomeBasicQueryDefaultState(),this.fixedIncomeAssets.category=e,this.getFixedIncomeAssets(),this.$root.$emit("track-analytics",{ec:"web:site:home",en:"click",lb:`fixed-income:${e}`})},changePage(e){this.fixedIncomeAssets.currentPage=e,this.getFixedIncomeAssets()},changeSortOrder({sort:e,order:t}){this.fixedIncomeAssets.sort!==e&&(this.fixedIncomeAssets.totalPages=1,this.fixedIncomeAssets.currentPage=1,this.fixedIncomeAssets.category="all"),this.fixedIncomeAssets.sort=e,this.fixedIncomeAssets.order=t,this.getFixedIncomeAssets()},onViewModeChange(e){this.viewMode=e},resetFixedIncomeBasicQueryDefaultState(){this.$refs?.refFixedIncomeAssetTable&&(this.$refs.refFixedIncomeAssetTable.sort="",this.$refs.refFixedIncomeAssetTable.order=""),this.fixedIncomeAssets.sort="",this.fixedIncomeAssets.order="",this.fixedIncomeAssets.currentPage=1,this.fixedIncomeAssets.totalPages=1,this.fixedIncomeAssets.category="all",this.shouldOverwriteFixedIncomeResult=!0},setFixedIncomeAssetsLimit(){this.cptdShowMore?this.fixedIncomeAssets.limit=this.shouldOverwriteFixedIncomeResult?5*this.fixedIncomeAssets.currentPage:5:this.fixedIncomeAssets.limit="cards"===this.viewMode?3:5},scheduleGetFixedIncomeAssetsInterval(){this.intervalId=setInterval((()=>{this.shouldOverwriteFixedIncomeResult=!0,this.getFixedIncomeAssets()}),this.intervalTimeout)},stopGetFixedIncomeAssetsInterval(){this.intervalId=null,clearInterval(this.intervalId)}}}),MBC_SEARCH_BOX=()=>({template:'\n<div :class="cssSearchBoxWrapper" v-click-outside="blur">\n<img v-if="displayInputIcon" class="search-box-icon" :src="MB_WIDGETS_GLOBAL_Cdn_Widgets_Url+\'/img/icons/ico-search-neutral.svg\'" />\n<input ref="input_search" type="text" autocomplete="off" class="search-box-input" :class="cptdCssInput" @focus="focused = true" :placeholder="placeholder" v-model="searchTerm" @input="debounceSearch($event)" @keyup.esc="blur" @keyup.enter="blur" />\n<button v-if="cptdCanDisplayClearButton" class="clear" @click="clearSearch" title="Clique para limpar a busca">\n<img class="ico-close" src="/widgets/img/icons/ico-close-mono.svg" />\n</button>\n</div>',directives:{"click-outside":{bind(e,t,s){document.body.addEventListener("mousedown",(a=>{e===a.target||e.contains(a.target)||s.context[t.expression](a)}),{capture:!0})},unbind(){document.body.removeEventListener("mousedown",this.event)}}},mixins:[window.MB_WIDGETS.mixins,window.MB_WIDGETS.configMixins],props:{autofocus:{type:Boolean,default:!1},value:{type:String,default:""},displayClearButton:{type:Boolean,default:!0},displayInputIcon:{type:Boolean,default:!0},placeholder:{type:String}},data(){return{searchTerm:this.value,debounceIntervalId:null,focused:!1}},computed:{cptdCdnStaticDomainUrl:()=>"https://static.mercadobitcoin.com.br/web",cssSearchBoxWrapper(){return{"c-search-box-wrapper":!0,focus:this.focused}},cptdCssInput(){return{"has-text":this.cptdCanDisplayClearButton}},cptdCanDisplayClearButton(){return this.displayClearButton&&this.searchTerm.length>0}},watch:{autofocus(e){e&&this.focusOnInputSearch()},value(e){this.searchTerm=e}},methods:{debounceSearch(e){this.debounceIntervalId=this.mxDebounce(this.debounceIntervalId,(()=>{this.$emit("update:value",e.target.value);const t=e.target.value.replace(/\s+/g,"-");this.$root.$emit("track-analytics",{ec:"web:site:home",en:"search",lb:`search:${t}`})}))},focusOnInputSearch(){Vue.nextTick((()=>{this.$refs.input_search.focus()}))},clearSearch(){this.searchTerm="",this.$emit("update:value",this.searchTerm),this.focusOnInputSearch()},blur(){this.focused=!1,this.$emit("blur")}}}),MBWD_ASSETS=()=>({template:'\n<div class="mbwd-assets">\n<h2 class="title">{{ i18n(\'Conheça os nossos produtos\') }}</h2>\n<div class="search-wrapper">\n<mbc-search-box :value.sync="search" :placeholder="i18n(\'Busque um produto\')" />\n</div>\n<mbwd-crypto-assets v-show="!cptdDisplayEmptyState" :search="search" :language="language" :interval-timeout="intervalTimeout" @list-updated="onCryptoAssetsUpdated">\n<template v-slot:crypto-cards-list="{ assets }">\n<slot name="crypto-cards-list" :assets="assets"></slot>\n</template>\n</mbwd-crypto-assets>\n<mbwd-fixed-income-assets v-show="!cptdDisplayEmptyState" :search="search" :language="language" :interval-timeout="intervalTimeout" @list-updated="onFixedIncomeAssetsUpdated" />\n<mbc-empty-state v-if="cptdDisplayEmptyState" :title="cptdEmptyStateConfig.title" :message="cptdEmptyStateConfig.message" :main-state-icon="cptdEmptyStateConfig.img" :cta="cptdEmptyStateConfig.cta" />\n</div>',props:{language:{type:String,default:"pt"},intervalTimeout:{type:Number,default:3e4}},mixins:[window.MB_WIDGETS.configMixins],components:{"mbc-empty-state":MBC_EMPTY_STATE(),"mbc-search-box":MBC_SEARCH_BOX(),"mbwd-crypto-assets":MBWD_CRYPTO_ASSETS(),"mbwd-fixed-income-assets":MBWD_FIXED_INCOME_ASSETS()},data:()=>({cryptoResults:void 0,fixedIncomeResults:void 0,search:"",translateMap:{pt:{"Conheça os nossos produtos":"Conheça os nossos produtos","Busque um produto":"Busque um produto","Ainda não temos #searchTerm no MB, mas anotamos a sugestão!":"Ainda não temos #searchTerm no MB, mas anotamos a sugestão!"},en:{"Conheça os nossos produtos":"Conheça os nossos produtos","Busque um produto":"Busque um produto","Ainda não temos #searchTerm no MB, mas anotamos a sugestão!":"Ainda não temos #searchTerm no MB, mas anotamos a sugestão!"},es:{"Conheça os nossos produtos":"Conheça os nossos produtos","Busque um produto":"Busque um produto","Ainda não temos #searchTerm no MB, mas anotamos a sugestão!":"Ainda não temos #searchTerm no MB, mas anotamos a sugestão!"}}}),computed:{cptdEmptyStateConfig(){if(this.cptdDisplayEmptyState)return{title:"Sem resultado",message:this.i18n("Ainda não temos #searchTerm no MB, mas anotamos a sugestão!").replace("#searchTerm",`"${this.search}"`),img:"ilu-empty-search-result.svg"}},cptdHasAssetsCardsScopedSlot(){return!!this.$slots["assets-cards"]},cptdDisplayEmptyState(){return this.search&&0===this.cryptoResults&&0===this.fixedIncomeResults}},methods:{i18n(e){return this.translateMap?.[this.language]?.[e]??""},onCryptoAssetsUpdated(e){this.cryptoResults=e},onFixedIncomeAssetsUpdated(e){this.fixedIncomeResults=e}}});function MbwdAssets(){return{version:"1.0.0",appendStyle(){const e=document.createElement("link");e.href="/widgets/mbwd-assets/css/mbwd-assets.css",e.rel="stylesheet",document.head.appendChild(e)},render:function(e,t){if(!e)throw Error("Vue is required to load this widget");if(e.version&&Number(e.version[0])<2)throw Error("You must provide at least a Vue 2 version");if(!t)throw Error("Provide a querySelector");this.appendStyle();const s=document.querySelector(t),a=`<mbwd-assets language='${s.dataset.language}'/>`;s.insertAdjacentHTML("beforeend",a),new e({el:document.querySelector("mbwd-assets"),components:{"mbwd-assets":MBWD_ASSETS()},created(){this.$root.$on("track-analytics",(e=>{if(console.log("tracking",e),s.dataset.trackAnalyticsEnabled)try{window.gtag&&gtag("event",e.en,{event_category:e.ec,event_label:e.lb})}catch(e){}}))}})}}}MbwdAssets().render(Vue,"#mbwd-assets");